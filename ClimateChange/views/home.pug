doctype html
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1')
  
  script(type='text/javascript' src='https://code.jquery.com/jquery-1.12.4.js')
  script(type='text/javascript' src='https://code.jquery.com/ui/1.12.1/jquery-ui.js')
  script(type='text/javascript' src='https://canvasjs.com/assets/script/jquery-1.11.1.min.js')
  
  link(rel='stylesheet' href='../stylesheets/homepage.css')
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
  link(rel='stylesheet' href='../stylesheets/heart.css')
  link(rel='stylesheet' href='../stylesheets/navbar.css')
  link(rel='stylesheet' type='text/css' href='http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css')
  link(rel='stylesheet' href='//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css')
  link(rel='stylesheet' href='/resources/demos/style.css')

 
  
  
  
  
  
ul
  li
    a(href='/home') Articles 
  li
    a(href='/profile') Profile 
  li 
    if(userName)
    a(href='/login/signout') Sign Out
    
    
    
    // function that fetches the articles on page load START
    
script.
    $(document).ready(function(){
    console.log('calling ajax');
    jQuery.ajax({
    contentType: 'application/json',
    url: '/articles',
    type:'POST',
    data: JSON.stringify({queries: []}),
    success: function(data) {
    var resultRows= '';
    $.each(data.articles, function (i, item) {
    resultRows += '<tr><td><a href="' + item.url + '">' + item.name + '</a></td></tr>';
    });
    $('#articleList').append(resultRows);
    },
    });
     // function that fetches the articles on page load END
    
    
    
    
    
    //filter on click of search START
    
    $('#search').click(function(){
    jQuery.ajax({
    contentType: 'application/json',
    url: '/articles',
    type:'POST',
    data: JSON.stringify({queries: [$('#input').val()]}),
    success: function(data) {
    var resultRows= '';
    $.each(data.articles, function (i, item) {
    resultRows += '<tr><td><a href="' + item.url + '">' + item.name + '</a></td></tr>';
    });
    $('#articleList tr').remove();
    $('#articleList').append(resultRows);
    },
    });
    }
    );
    });
    //filter on click of search END
    
    
    
    
    
    //filter as you type START
    
    function filterArticles() {
    jQuery.ajax({
    contentType: 'application/json',
    url: '/articles',
    type:'POST',
    data: JSON.stringify({queries: [$('#input').val()]}),
    success: function(data) {
    var resultRows= '';
    $.each(data.articles, function (i, item) {
    resultRows += '<tr><td><a href="' + item.url + '">' + item.name + '</a></td></tr>';
    });
    $('#articleList tr').remove();
    $('#articleList').append(resultRows);
    },
    });
    }
    //filter as you type END
    
    
    
    
    
    //filter as you drag and drop START
    
    function dragDropArticles(tags) {
    jQuery.ajax({
    contentType: 'application/json',
    url: '/articles',
    type:'POST',
    data: JSON.stringify({queries: tags}),
    success: function(data) {
    var resultRows= '';
    $.each(data.articles, function (i, item) {
    resultRows += '<tr><td><a href="' + item.url + '">' + item.name + '</a></td></tr>';
    });
    $('#articleList tr').remove();
    $('#articleList').append(resultRows);
    },
    });
    }
    //filter as you drag and drop END
    
  
    
    
h2 Learn About Climate Change




style.
  .tags { width: 100px; height: 100px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; }
  .droppable { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; }
script(src='https://code.jquery.com/jquery-1.12.4.js')
script(src='https://code.jquery.com/ui/1.12.1/jquery-ui.js')
script.
  $( function() {
  var tagList=[];
  
  $( ".tags" ).draggable(
  {
  revert: false,
  start: function(event, ui) {
  var index = tagList.indexOf($(this).text());
  if (index > -1) {
  tagList.splice(index, 1);
  }
  },
  stop: function(even, ui) {
  dragDropArticles(tagList);
  }
  });
  
  $( ".droppable" ).droppable({
  drop: function(event, ui){
  tagList.push($(ui.draggable).text());
  dragDropArticles(tagList);
  }
  });
  });
  
.tags.ui-widget-content
  p Forest
.tags.ui-widget-content
  p Global Warming
.tags.ui-widget-content
  p Climate
.droppable.ui-widget-header
  p Drop tag here





input#input(type='text' onkeyup='filterArticles()' placeholder='Search for articles..' title='Type a name')
button#search Search






table#articleList
  tr
    th ARTICLES
  
